import*as t from"@wordpress/interactivity";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const o=(a={getContext:()=>t.getContext,getElement:()=>t.getElement,store:()=>t.store,withScope:()=>t.withScope},i={},e.d(i,a),i),n=["rtf","html","txt"],{state:r}=(0,o.store)("wporg/photos/photo-attribution",{state:{get isCurrentTab(){const{tab:t}=(0,o.getContext)(),{attributes:e}=(0,o.getElement)();return t===e["data-tab"]},get buttonLabel(){const{i18n:t}=(0,o.getContext)();return r.copied?t.copySuccess:t.copyDefault},get tabIndex(){const{tab:t}=(0,o.getContext)(),{attributes:e}=(0,o.getElement)();return t===e["data-tab"]?0:-1},isLoaded:!0,copied:!1},actions:{openTab:()=>{const t=(0,o.getContext)(),{attributes:e}=(0,o.getElement)();t.tab=e["data-tab"],r.copied=!1},onKeyDown(t){const e=(0,o.getContext)(),{ref:r}=(0,o.getElement)(),a=n.indexOf(e.tab),i=n.length;if("ArrowLeft"===t.code){const t=0===a?i-1:a-1;e.tab=n[t]}else{if("ArrowRight"!==t.code)return;{const t=a===i-1?0:a+1;e.tab=n[t]}}const c=r.closest(".wp-block-wporg-photo-attribution").querySelector(`.wporg-photo-attribution__tab[data-tab="${e.tab}"]`);c&&c.focus()},copyText:async()=>{const{tab:t}=(0,o.getContext)(),{ref:e}=(0,o.getElement)();let n=e.closest(".wp-block-wporg-photo-attribution").querySelector(".wporg-photo-attribution__tabpanel:not([hidden])").innerHTML.trim();if("html"===t){const t=document.createElement("textarea");t.innerHTML=n,n=t.value}const a={};a["text/plain"]=new Blob([n],{type:"text/plain"}),"rtf"===t&&(a["text/html"]=new Blob([n],{type:"text/html"})),await navigator.clipboard.write([new ClipboardItem(a)]),r.copied=!0,setTimeout((0,o.withScope)((()=>r.copied=!1)),1e4)}}});var a,i;